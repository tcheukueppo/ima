#!/usr/bin/env python

import requests
from ima.utils import download_image, generate_headers

session = requests.Session()
session.headers.update(generate_headers())

"""
for progress in download_image(
    'https://images2.alphacoders.com/107/107200.jpg',
    session,
    rate = 100,
    path = '/home/kueppo/static',
):
    #print(progress)
    pass
"""

for progress in download_image(
    'data:image/png;base64,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',
    session,
    path      = '/home/kueppo/static',
    filename  = 'me.jpeg',
):
    pass
